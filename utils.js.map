{"version":3,"file":"utils.js","sourceRoot":"","sources":["../utils.ts"],"names":[],"mappings":";;;;;;;;;;;AAGA,gCAmBC;AAtBD,+CAA6D;AAC7D,2DAAuE;AAEvE,SAAgB,UAAU,CAAC,IAAU;IACnC,OAAO;QACC,QAAQ,CAAC,IAAY;;gBACzB,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAC7B,IAAI,CAAC,IAAI,EAAE,CAAC;oBACV,MAAM,IAAI,gCAAmB,CAAC,iBAAiB,CAAC,CAAC;gBACnD,CAAC;gBACD,OAAO,gBAAS,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;YAC5C,CAAC;SAAA;QACK,SAAS,CAAC,IAAY,EAAE,IAAY;;gBACxC,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YACpC,CAAC;SAAA;QACK,WAAW,CAAC,IAAY;;gBAC5B,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;YACrE,CAAC;SAAA;QACK,MAAM,CAAC,IAAY;;gBACvB,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAC3B,CAAC;SAAA;KACF,CAAC;AACJ,CAAC","sourcesContent":["import { virtualFs, workspaces } from '@angular-devkit/core';\r\nimport { SchematicsException, Tree } from '@angular-devkit/schematics';\r\n\r\nexport function createHost(tree: Tree): workspaces.WorkspaceHost {\r\n  return {\r\n    async readFile(path: string): Promise<string> {\r\n      const data = tree.read(path);\r\n      if (!data) {\r\n        throw new SchematicsException('File not found.');\r\n      }\r\n      return virtualFs.fileBufferToString(data);\r\n    },\r\n    async writeFile(path: string, data: string): Promise<void> {\r\n      return tree.overwrite(path, data);\r\n    },\r\n    async isDirectory(path: string): Promise<boolean> {\r\n      return !tree.exists(path) && tree.getDir(path).subfiles.length > 0;\r\n    },\r\n    async isFile(path: string): Promise<boolean> {\r\n      return tree.exists(path);\r\n    }\r\n  };\r\n}\r\n"]}